<!DOCTYPE html>
<html>

<head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">

    <meta name="twitter:card" content="summary_large_image" />
    
    
    <meta name="twitter:title" content="COVID-19 Global Education Recovery Tracker" />
    <meta name="twitter:description" content="Monitoring the impact of the COVID-19 pandemic on response and recovery for students across the globe, by Johns Hopkins University, the World Bank, and UNICEF." />
    <meta name="twitter:image" content="https://www.covideducationrecovery.global/img/og-image.png" />

    <meta property="og:title" content="COVID-19 Global Education Recovery Tracker">
    <meta property="og:image" content="https://www.covideducationrecovery.global/img/og-image.png\">
    <meta property="og:description" content="Monitoring the impact of the COVID-19 pandemic on response and recovery for students across the globe, by Johns Hopkins University, the World Bank, and UNICEF.">
    <meta property="og:url" content="https://www.covideducationrecovery.global//profile/" />
    <meta property="og:type" content="website">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <script src="/js/bootstrap.bundle.min.js" type="text/javascript"></script>
    <link href="/css/all.min.css" rel="stylesheet">
      
    <script src="/js/vue.min.js" type="text/javascript"></script>
      
      
      
    <script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>
        
    

  
    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4XJB9Q7EK5"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-4XJB9Q7EK5');
  </script>
  

    <title>COVID-19 Global Education Recovery Tracker</title>
    <style>
     
      @font-face {
        font-family: 'FuturaPTWebLight';
        src:
          url('/webfonts//Futura-PT_Light.woff2') format('woff2'),
          url('/webfonts/Futura-PT_Light.woff') format('woff');
        font-weight: normal;
        font-style: normal;
      }
      @font-face {
        font-family: 'FuturaPTWebBook';
        src:
          url('/webfonts/Futura-PT_Book.woff2') format('woff2'),
          url('/webfonts/Futura-PT_Book.woff') format('woff');
        font-weight: normal;
        font-style: normal;
      }

      @font-face {
        font-family: 'FuturaPTWebDemi';
        src:
          url('/webfonts/Futura-PT_Demi.woff2') format('woff2'),
          url('/webfonts/Futura-PT_Demi.woff') format('woff');
        font-weight: normal;
        font-style: normal;
      }

      html, body {font-family: FuturaPTWebLight; font-size: 20px;}
      h1, h2, h3 {font-family: FuturaPTWebDemi;}
      strong, h4, h5, h6 {font-family: FuturaPTWebBook;}

      nav {min-height: 80px; font-family: FuturaPTWebDemi; font-size: 90%;}
      nav svg {width: 250px; height: 50px;}

      section {margin: 2em auto 1em auto; max-width: 1200px;}

      .navbar-brand {margin-right: 0.1rem;}

      .navbar-expand-xxl .navbar-nav {justify-content: space-evenly; width: 100%;}

      .spacer-10 {height: 10vh;}
      .spacer-5 {height: 5vh;}

      [marked] {background-color: green !important;}
      .table-header-sticky {position: sticky; top: 0; background-color: #FFFFFF !important; box-shadow: 0 5px 5px -5px #00000040 !important;}

      
      [v-cloak], .hidden {display: none;}
      

      
    </style>
  <style>
    .progress {
      height: 3em
    }

    .bg-male {
      background-color: #0C619D;
      flex-direction: row;
      align-items: center
    }

    .bg-female {
      background-color: #AA5986;
      flex-direction: row;
      align-items: center
    }

    .fas {
      font-size: 0.75em;
      margin-left: 0.2em;
      margin-right: 0.2em
    }

    .percentage:after {
      content: '%'
    }

    .not-available:after {
      content: 'not available'
    }

    .table> :not(caption)>*>* {
      border-bottom: none;
    }

    /* RESET RULES
        –––––––––––––––––––––––––––––––––––––––––––––––––– */
    :root {
      --white: #fff;
      --divider: lightgrey;
      --body: #f5f7f8;
    }

    * {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }

    ul {
      list-style: none;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    .chart-wrapper {
      max-width: 1150px;
      padding: 0 10px;
      margin: 0 auto;
      overflow-y: hidden;
      overflow-x: scroll;
      width:auto;
    }

    .chart-wrapper::-webkit-scrollbar { 
      width: 10px;
      border-radius: 10px;
    }
    .chart-wrapper::-webkit-scrollbar-thumb {
      background: rgb(207, 207, 207);
      border-radius: 5px;
    }



    /* CHART-VALUES
        –––––––––––––––––––––––––––––––––––––––––––––––––– */
    .chart-wrapper .chart-values {
      position: relative;
      display: flex;
      margin-bottom: 20px;
      font-weight: bold;
      font-size: 1rem;
    }

    .chart-wrapper .chart-values li {
      flex: 1;
      min-width: 120px;
      max-width: 120px;
      text-align: center;
    }

    .chart-wrapper .chart-values li:not(:last-child) {
      position: relative;
    }

    .chart-wrapper .chart-values li:not(:last-child)::before {
      content: '';
      position: absolute;
      right: 0;
      height: 400px;
      border-right: 1px solid var(--divider);
    }


    /* CHART-BARS
        –––––––––––––––––––––––––––––––––––––––––––––––––– */

    

    .chart-wrapper .chart-bars .group li {
      position: absolute;
      display: flex;
      color: var(--white);
      margin-bottom: 0px;
      font-size: 16px;
      border-radius: 5px;
      padding: 15px 10px;
      /* height: 3em; */
      left: 0;
      width: 0;
      opacity: 1;
      background-color: hotpink;
      transition: all 0.65s linear 0.2s;
    }

    .chart-wrapper .chart-bars .group {
      position: relative;
      display: flex;
      flex-direction: row;
      margin-bottom: 70px;
      font-size: 16px;
      border-radius: 0px;
      
      /* height: 3em; */
      
      width: 100%;
      
    }

    

    @media screen and (max-width: 1000px) {
      .chart-wrapper .chart-bars li {
        padding: 5px;
      }

      .chart-wrapper .chart-values {
        position: relative;
        display: flex;
        margin-bottom: 20px;
        font-weight: bold;
        font-size: 0.5rem;
      }

      .chart-wrapper .chart-values li {
        flex: 1;
        min-width: 40px;
        text-align: center;
      }

      .chart-wrapper .chart-bars .group li {
        font-size: 10px;
        border-radius: 5px;
        padding: 15px 10px;
        /* height: 3em; */
      } 


    }
  </style>
</head>

<body>
  
<nav class="navbar navbar-expand-xxl navbar-light bg-light">

  <div class="container">
    <a class="navbar-brand" href="/">
      <svg version="1.1" id="Слой_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 250 50" style="enable-background:new 0 0 250 50;" xml:space="preserve">
      <style type="text/css">
        .st1{fill:#2361FF;}
        .st2{fill:#FF9100;}
      </style>
      <g>
        <path class="st1" d="M69.5,11.2c-1,0.5-1.8,0.6-2.5,0.6c-2.1,0-3.5-0.7-4.5-1.6c-1-1-1.8-2.5-1.8-4.3s0.7-3.3,1.8-4.3
          c1-1,2.5-1.6,4.2-1.6c0.7,0,1.6,0.2,2.7,0.6v3C68.9,3,68,2.4,66.8,2.4c-1,0-1.7,0.3-2.3,0.9c-0.6,0.6-1.1,1.5-1.1,2.6
          c0,1.2,0.5,2,1,2.5c0.2,0.2,1.1,1,2.4,1c0.7,0,1.6-0.2,2.6-1.2L69.5,11.2L69.5,11.2z"/>
        <path class="st1" d="M81.6,1.6c1.1,1,1.8,2.5,1.8,4.3c0,1.5-0.5,3.1-1.8,4.2c-1.1,1-2.5,1.7-4.4,1.7c-2.1,0-3.6-0.8-4.4-1.7
          C71.7,9.2,71,7.6,71,6s0.7-3.3,1.8-4.3C73.5,0.9,74.9,0,77.2,0C79,0,80.5,0.5,81.6,1.6z M74.7,3.4c-0.5,0.5-1,1.3-1,2.6
          c0,1,0.3,1.9,1,2.5c0.7,0.7,1.5,0.9,2.4,0.9c1.2,0,2-0.4,2.5-1c0.4-0.4,1-1.2,1-2.5c0-1.2-0.5-2-1-2.5c-0.6-0.5-1.5-1-2.5-1
          C76.2,2.4,75.3,2.8,74.7,3.4z"/>
        <path class="st1" d="M86.4,0.3l2.9,7.3l2.9-7.3H95l-4.8,11.3h-1.8L83.6,0.3H86.4z"/>
        <path class="st1" d="M98.9,0.3v11.3h-2.6V0.3H98.9z"/>
        <path class="st1" d="M105.1,0.3c1.5,0,3.1,0.2,4.5,1.6c1,1,1.6,2.3,1.6,4.1s-0.6,3.1-1.5,4c-1.6,1.6-3.5,1.7-4.5,1.7h-3.7V0.3
          H105.1z M104.1,9.4h0.7c0.5,0,1.7-0.1,2.6-0.8c0.6-0.5,1.1-1.5,1.1-2.7s-0.5-2-0.9-2.4c-0.9-0.8-2-1-2.8-1h-0.7
          C104.1,2.5,104.1,9.4,104.1,9.4z"/>
        <path class="st1" d="M112.7,4.7h4.4v2.1h-4.4V4.7z"/>
        <path class="st1" d="M121.8,2.5h-1.6V0.3h4.2v11.3h-2.6V2.5z"/>
        <path class="st1" d="M128.6,11.6l3-3.7C131.2,8,130.9,8,130.5,8c-1.2,0-2.2-0.4-2.9-1.1c-0.6-0.6-1-1.5-1-2.7c0-1.7,0.8-2.6,1.1-3
          c1.1-1.2,2.7-1.3,3.6-1.3c1.8,0,2.8,0.6,3.4,1.1c0.6,0.5,1.2,1.5,1.2,2.9c0,0.7-0.2,1.5-0.5,2.3c-0.3,0.6-0.8,1.4-1.3,2.1l-2.6,3.4
          L128.6,11.6z M129.9,2.7c-0.2,0.2-0.6,0.6-0.6,1.4c0,0.7,0.3,1.2,0.6,1.5c0.4,0.3,0.9,0.5,1.4,0.5c0.6,0,1.1-0.2,1.4-0.5
          c0.3-0.3,0.6-0.7,0.6-1.5c0-0.5-0.2-1-0.6-1.4c-0.3-0.3-0.7-0.5-1.4-0.5C130.8,2.1,130.3,2.3,129.9,2.7z"/>
        <path class="st1" d="M147,5.4h5.6v0.1c0,1.4-0.5,3.5-1.8,4.8s-2.7,1.5-4,1.5c-1.4,0-2.8-0.2-4.1-1.6C142,9.5,141,8.1,141,5.9
          c0-1.9,0.7-3.3,1.6-4.3c1.4-1.4,3.1-1.6,4.5-1.6c0.9,0,2.1,0.2,3.2,0.8c0.8,0.5,1.4,1.3,1.8,2l-2.4,1.3c-0.2-0.4-0.6-0.9-1-1.2
          c-0.5-0.4-1.1-0.5-1.7-0.5c-1,0-1.8,0.3-2.3,0.9c-0.6,0.7-1,1.6-1,2.7c0,1.3,0.5,2.1,1,2.6c0.7,0.7,1.4,0.9,2.3,0.9
          c1.1,0,1.7-0.4,2-0.6c0.1-0.1,0.6-0.5,0.8-1.3H147V5.4z"/>
        <path class="st1" d="M157.2,0.3v9.1h3.5v2.2h-6.1V0.3H157.2z"/>
        <path class="st1" d="M171.9,1.6c1.1,1,1.8,2.5,1.8,4.3c0,1.5-0.5,3.1-1.8,4.2c-1.1,1-2.5,1.7-4.4,1.7c-2.1,0-3.6-0.8-4.4-1.7
          c-1.1-1-1.8-2.5-1.8-4.2c0-1.6,0.7-3.3,1.8-4.3c0.8-0.8,2.2-1.7,4.4-1.7C169.3,0,170.8,0.5,171.9,1.6z M165,3.4
          c-0.5,0.5-1,1.3-1,2.6c0,1,0.3,1.9,1,2.5c0.7,0.7,1.5,0.9,2.4,0.9c1.2,0,2-0.4,2.5-1c0.4-0.4,1-1.2,1-2.5c0-1.2-0.5-2-1-2.5
          c-0.6-0.5-1.5-1-2.5-1C166.5,2.4,165.7,2.8,165,3.4z"/>
        <path class="st1" d="M179.1,0.3c0.6,0,2,0,2.9,0.9c0.7,0.7,0.8,1.6,0.8,2.1c0,0.4-0.1,1-0.4,1.4c-0.3,0.5-0.7,0.7-1,0.8
          c0.5,0.1,1.2,0.4,1.6,0.8c0.4,0.4,0.7,1,0.7,2c0,1.1-0.4,1.9-0.9,2.3c-0.9,0.9-2.3,1-3,1h-4.3V0.3H179.1z M178.2,4.9h0.4
          c0.4,0,1-0.1,1.3-0.3c0.2-0.2,0.5-0.5,0.5-1s-0.2-0.8-0.4-1c-0.4-0.3-0.9-0.3-1.4-0.3h-0.4L178.2,4.9L178.2,4.9z M178.2,9.6h0.6
          c0.7,0,1.5,0,1.9-0.5c0.2-0.2,0.4-0.5,0.4-1s-0.2-0.8-0.4-0.9c-0.5-0.4-1.3-0.4-1.9-0.4h-0.7L178.2,9.6L178.2,9.6z"/>
        <path class="st1" d="M192.4,9.5h-4.3l-0.9,2.1h-2.7l4.6-11.3h2.4l4.5,11.3h-2.7L192.4,9.5z M191.7,7.4l-1.4-3.8l-1.4,3.8H191.7z"/>
        <path class="st1" d="M199.9,0.3v9.1h3.5v2.2h-6.1V0.3H199.9z"/>
      </g>
      <g>
        <path class="st1" d="M67.7,18.2h-3.8v2.2h3.6v2.2h-3.6v2.5h3.8v2.2h-6.4V16h6.4C67.7,16,67.7,18.2,67.7,18.2z"/>
        <path class="st1" d="M73.4,16c1.5,0,3.1,0.2,4.5,1.6c1,1,1.6,2.3,1.6,4.1c0,1.8-0.6,3.1-1.5,4c-1.6,1.6-3.5,1.7-4.5,1.7h-3.7V16
          H73.4z M72.4,25.1h0.7c0.5,0,1.7-0.1,2.6-0.8c0.6-0.5,1.1-1.5,1.1-2.7s-0.5-2-0.9-2.4c-0.9-0.8-2-1-2.8-1h-0.7
          C72.4,18.2,72.4,25.1,72.4,25.1z"/>
        <path class="st1" d="M91,22.7c0,1.1-0.1,2.4-1.3,3.6c-1.1,1.1-2.3,1.3-3.5,1.3s-2.4-0.2-3.5-1.3c-1.1-1.2-1.3-2.5-1.3-3.6V16H84
          v6.6c0,0.5,0,1.3,0.6,1.9c0.5,0.5,1.1,0.6,1.6,0.6s1.1-0.1,1.6-0.6c0.6-0.6,0.6-1.4,0.6-1.9V16H91V22.7z"/>
        <path class="st1" d="M101.7,27c-1,0.5-1.8,0.6-2.5,0.6c-2.1,0-3.5-0.7-4.5-1.6c-1-1-1.8-2.5-1.8-4.3s0.7-3.3,1.8-4.3
          c1-1,2.5-1.6,4.2-1.6c0.7,0,1.6,0.2,2.7,0.6v3c-0.6-0.6-1.4-1.2-2.7-1.2c-1,0-1.7,0.3-2.3,0.9c-0.6,0.6-1.1,1.5-1.1,2.6
          c0,1.2,0.5,2,1,2.5c0.2,0.2,1.1,1,2.4,1c0.7,0,1.6-0.2,2.6-1.2v3H101.7z"/>
        <path class="st1" d="M110.5,25.2h-4.3l-0.9,2.1h-2.7l4.6-11.3h2.4l4.5,11.3h-2.7L110.5,25.2z M109.7,23.2l-1.4-3.8l-1.4,3.8H109.7z
          "/>
        <path class="st1" d="M118.6,18.2v9.1H116v-9.1h-2.5V16h7.5v2.2H118.6z"/>
        <path class="st1" d="M125.1,16v11.3h-2.6V16H125.1z"/>
        <path class="st1" d="M137.7,17.4c1.1,1,1.8,2.5,1.8,4.3c0,1.5-0.5,3.1-1.8,4.2c-1.1,1-2.5,1.7-4.4,1.7c-2.1,0-3.6-0.8-4.4-1.7
          c-1.1-1-1.8-2.5-1.8-4.2c0-1.6,0.7-3.3,1.8-4.3c0.8-0.8,2.2-1.7,4.4-1.7C135,15.8,136.5,16.3,137.7,17.4z M130.8,19.1
          c-0.5,0.5-1,1.3-1,2.6c0,1,0.3,1.9,1,2.5c0.7,0.7,1.5,0.9,2.4,0.9c1.2,0,2-0.4,2.5-1c0.4-0.4,1-1.2,1-2.5c0-1.2-0.5-2-1-2.5
          c-0.6-0.5-1.5-1-2.5-1C132.3,18.2,131.4,18.5,130.8,19.1z"/>
        <path class="st1" d="M141.4,27.3V16h2.3l6.2,7.3V16h2.6v11.3h-2.3L144,20v7.3H141.4z"/>
        <path class="st1" d="M162.9,16c1.4,0,2.3,0.5,2.9,1c0.5,0.5,1,1.3,1,2.5c0,0.7-0.2,1.6-0.9,2.3c-0.4,0.4-1,0.7-1.6,0.9l3.5,4.6
          h-3.2l-3.1-4.5v4.5h-2.6V16H162.9z M161.5,21.2h0.6c0.5,0,1.1-0.1,1.6-0.5c0.2-0.2,0.4-0.5,0.4-1.1s-0.3-1-0.5-1.2
          c-0.4-0.3-1.1-0.4-1.4-0.4h-0.6v3.2H161.5z"/>
        <path class="st1" d="M175.6,18.2h-3.8v2.2h3.6v2.2h-3.6v2.5h3.8v2.2h-6.4V16h6.4V18.2z"/>
        <path class="st1" d="M185.9,27c-1,0.5-1.8,0.6-2.5,0.6c-2.1,0-3.5-0.7-4.5-1.6c-1-1-1.8-2.5-1.8-4.3s0.7-3.3,1.8-4.3
          c1-1,2.5-1.6,4.2-1.6c0.7,0,1.6,0.2,2.7,0.6v3c-0.6-0.6-1.4-1.2-2.7-1.2c-1,0-1.7,0.3-2.3,0.9s-1.1,1.5-1.1,2.6c0,1.2,0.5,2,1,2.5
          c0.2,0.2,1.1,1,2.4,1c0.7,0,1.6-0.2,2.6-1.2v3H185.9z"/>
        <path class="st1" d="M198.1,17.4c1.1,1,1.8,2.5,1.8,4.3c0,1.5-0.5,3.1-1.8,4.2c-1.1,1-2.5,1.7-4.4,1.7c-2.1,0-3.6-0.8-4.4-1.7
          c-1.1-1-1.8-2.5-1.8-4.2c0-1.6,0.7-3.3,1.8-4.3c0.8-0.8,2.2-1.7,4.4-1.7C195.4,15.8,196.9,16.3,198.1,17.4z M191.2,19.1
          c-0.5,0.5-1,1.3-1,2.6c0,1,0.3,1.9,1,2.5c0.7,0.7,1.5,0.9,2.4,0.9c1.2,0,2-0.4,2.5-1c0.4-0.4,1-1.2,1-2.5c0-1.2-0.5-2-1-2.5
          c-0.6-0.5-1.5-1-2.5-1C192.7,18.2,191.8,18.5,191.2,19.1z"/>
        <path class="st1" d="M202.9,16l2.9,7.3l2.9-7.3h2.8l-4.8,11.3h-1.8L200,16H202.9z"/>
        <path class="st1" d="M219.1,18.2h-3.8v2.2h3.6v2.2h-3.6v2.5h3.8v2.2h-6.4V16h6.4V18.2z"/>
        <path class="st1" d="M225.2,16c1.4,0,2.3,0.5,2.9,1c0.5,0.5,1,1.3,1,2.5c0,0.7-0.2,1.6-0.9,2.3c-0.4,0.4-1,0.7-1.6,0.9l3.5,4.6
          h-3.2l-3.1-4.5v4.5h-2.6V16H225.2z M223.9,21.2h0.6c0.5,0,1.1-0.1,1.6-0.5c0.2-0.2,0.4-0.5,0.4-1.1s-0.3-1-0.5-1.2
          c-0.4-0.3-1.1-0.4-1.4-0.4H224v3.2H223.9z"/>
        <path class="st1" d="M234,22.1l-4-6.1h3.1l2.3,3.5l2.3-3.5h3.1l-4.1,6.1v5.3H234V22.1z"/>
      </g>
      <g>
        <path class="st1" d="M65.2,34v9.1h-2.6V34h-2.5v-2.2h7.5V34H65.2z"/>
        <path class="st1" d="M73.1,31.8c1.4,0,2.3,0.5,2.9,1c0.5,0.5,1,1.3,1,2.5c0,0.7-0.2,1.6-0.9,2.3c-0.4,0.4-1,0.7-1.6,0.9l3.5,4.6
          h-3.2l-3.1-4.5v4.5h-2.6V31.8H73.1z M71.7,36.9h0.6c0.5,0,1.1-0.1,1.6-0.5c0.2-0.2,0.4-0.5,0.4-1.1s-0.3-1-0.5-1.2
          c-0.4-0.3-1.1-0.4-1.4-0.4h-0.6L71.7,36.9L71.7,36.9z"/>
        <path class="st1" d="M86.2,41H82l-0.9,2.1h-2.7L83,31.8h2.4l4.5,11.3h-2.7L86.2,41z M85.5,39l-1.4-3.8L82.7,39H85.5z"/>
        <path class="st1" d="M98.9,42.7c-1,0.5-1.8,0.6-2.5,0.6c-2.1,0-3.5-0.7-4.5-1.6c-1-1-1.8-2.5-1.8-4.3s0.7-3.3,1.8-4.3
          c1-1,2.5-1.6,4.2-1.6c0.7,0,1.6,0.2,2.7,0.6v3c-0.6-0.6-1.4-1.2-2.7-1.2c-1,0-1.7,0.3-2.3,0.9c-0.6,0.6-1.1,1.5-1.1,2.6
          c0,1.2,0.5,2,1,2.5c0.2,0.2,1.1,1,2.4,1c0.7,0,1.6-0.2,2.6-1.2v3H98.9z"/>
        <path class="st1" d="M103.7,36.5l3.9-4.7h3.2l-4.6,5.4l4.9,6h-3.4l-4.1-5v5H101V31.8h2.6L103.7,36.5L103.7,36.5z"/>
        <path class="st1" d="M118.8,34H115v2.2h3.6v2.2H115v2.5h3.8v2.2h-6.4V31.8h6.4V34z"/>
        <path class="st1" d="M124.9,31.8c1.4,0,2.3,0.5,2.9,1c0.5,0.5,1,1.3,1,2.5c0,0.7-0.2,1.6-0.9,2.3c-0.4,0.4-1,0.7-1.6,0.9l3.5,4.6
          h-3.2l-3.1-4.5v4.5H121V31.8H124.9z M123.6,36.9h0.6c0.5,0,1.1-0.1,1.6-0.5c0.2-0.2,0.4-0.5,0.4-1.1s-0.3-1-0.5-1.2
          c-0.4-0.3-1.1-0.4-1.4-0.4h-0.6L123.6,36.9L123.6,36.9z"/>
      </g>
      <path class="st1" d="M3.2,16.2h14c1.8,0,3.2-1.5,3.2-3.2V3.2C20.5,1.5,19,0,17.2,0h-14C1.5,0,0,1.5,0,3.2V13
        C0,14.7,1.5,16.2,3.2,16.2z M2.4,3.2c0-0.5,0.4-0.8,0.8-0.8h14c0.5,0,0.8,0.4,0.8,0.8V13c0,0.5-0.4,0.8-0.8,0.8h-14
        c-0.5,0-0.8-0.4-0.8-0.8C2.4,13,2.4,3.2,2.4,3.2z"/>
      <path class="st1" d="M26.1,24.5h14c1.8,0,3.2-1.5,3.2-3.2V3.2c0-1.8-1.5-3.2-3.2-3.2h-14c-1.8,0-3.2,1.5-3.2,3.2v18.1
        C22.9,23.1,24.4,24.5,26.1,24.5z M25.3,3.2c0-0.5,0.4-0.8,0.8-0.8h14c0.5,0,0.8,0.4,0.8,0.8v18.1c0,0.5-0.4,0.8-0.8,0.8h-14
        c-0.5,0-0.8-0.4-0.8-0.8V3.2z"/>
      <path class="st2" d="M38.3,43.4L37.8,41H26.1c-0.5,0-0.8-0.4-0.8-0.8v-9.7c0-0.5,0.4-0.8,0.8-0.8h14c0.5,0,0.8,0.4,0.8,0.8v5.9
        l2.4,1.4v-7.3c0-1.8-1.5-3.2-3.2-3.2h-14c-1.8,0-3.2,1.5-3.2,3.2v9.7c0,1.8,1.5,3.2,3.2,3.2C26.1,43.4,38.3,43.4,38.3,43.4z"/>
      <path class="st1" d="M3.2,43.4h14c1.8,0,3.2-1.5,3.2-3.2V22.1c0-1.8-1.5-3.2-3.2-3.2h-14c-1.8,0-3.2,1.5-3.2,3.2v18.1
        C0,41.9,1.5,43.4,3.2,43.4z M2.4,22.1c0-0.5,0.4-0.8,0.8-0.8h14c0.5,0,0.8,0.4,0.8,0.8v18.1c0,0.5-0.4,0.8-0.8,0.8h-14
        c-0.5,0-0.8-0.4-0.8-0.8C2.4,40.2,2.4,22.1,2.4,22.1z"/>
      <path class="st1" d="M41,36.3l-3.1-1.8c-0.5-0.3-1.2,0.2-1.1,0.8l1.1,5.8l0.5,2.4l1.1,6c0.1,0.7,1,0.8,1.3,0.2l3.1-5.5l6.2-1
        c0.7-0.1,0.9-1,0.3-1.4l-6.9-4L41,36.3z"/>
      </svg>
   
    
      <!-- <svg class="d-inline-block align-text-top" version="1.1" xmlns="http://www.w3.org/2000/svg"	xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 300 296.3" style="enable-background:new 0 0 300 296.3;" xml:space="preserve">
        <style type="text/css">
          .st0 {fill:#2361FF;}
          .st1 {fill:#FF9100;}
        </style>
        <g>
          <path class="st0" d="M19.2,96H102c10.6,0,19.2-8.6,19.2-19.2V19.2C121.2,8.6,112.6,0,102,0H19.2C8.6,0,0,8.6,0,19.2v57.6 C0,87.4,8.6,96,19.2,96z M14.2,19.2c0-2.8,2.3-5,5-5H102c2.8,0,5,2.3,5,5v57.6c0,2.8-2.3,5-5,5H19.2c-2.8,0-5-2.3-5-5V19.2z"/>
          <path class="st0" d="M154.9,145.4h82.8c10.6,0,19.2-8.6,19.2-19.2v-107c0-10.6-8.6-19.2-19.2-19.2h-82.8 c-10.6,0-19.2,8.6-19.2,19.2v107C135.7,136.8,144.3,145.4,154.9,145.4z M149.9,19.2c0-2.8,2.3-5,5-5h82.8c2.8,0,5,2.3,5,5v107 c0,2.8-2.3,5-5,5h-82.8c-2.8,0-5-2.3-5-5V19.2z"/>
          <path class="st1" d="M226.7,256.9l-2.7-14.2h-69.1c-2.8,0-5-2.3-5-5v-57.6c0-2.8,2.3-5,5-5h82.8c2.8,0,5,2.3,5,5v34.9l14.2,8.3	v-43.2c0-10.6-8.6-19.2-19.2-19.2h-82.8c-10.6,0-19.2,8.6-19.2,19.2v57.6c0,10.6,8.6,19.2,19.2,19.2H226.7z"/>
          <path class="st0" d="M19.2,256.9H102c10.6,0,19.2-8.6,19.2-19.2v-107c0-10.6-8.6-19.2-19.2-19.2H19.2C8.6,111.5,0,120.2,0,130.7 v107C0,248.3,8.6,256.9,19.2,256.9z M14.2,130.7c0-2.8,2.3-5,5-5H102c2.8,0,5,2.3,5,5v107c0,2.8-2.3,5-5,5H19.2c-2.8,0-5-2.3-5-5 V130.7z"/>
          <path class="st0" d="M242.8,215.1l-18.5-10.8c-3.2-1.8-7.3,0.9-6.8,4.5l6.4,34.1l2.7,14.2l6.8,35.7c0.5,4.1,5.9,4.5,7.7,1.4 l18.2-32.7l36.8-5.9c4.1-0.5,5.5-5.9,1.8-8.2l-40.9-24L242.8,215.1z"/>
        </g>
      </svg> -->
      <!-- <div class="d-inline-block">
      </div> -->
    </a>  
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDataDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Data
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDataDropdown">
            <li><a class="dropdown-item" href="/maps/">Maps</a></li>
            <li><a class="dropdown-item" href="/graphs/">Graphs</a></li>
            <li><a class="dropdown-item" href="/country-list/">Country List</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="/data/">Download</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/stories/">Stories</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navBarAboutDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            About
          </a>
          <ul class="dropdown-menu" aria-labelledby="navBarAboutDropdown">
            <li><a class="dropdown-item" href="/about/">Partnership</a></li>
            <li><a class="dropdown-item" href="/about/#disclaimer">Disclaimer</a></li>
            <li><a class="dropdown-item" href="/methodology/">Methodology</a></li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a class="btn btn-outline-primary" href="/contact/">Subscribe / Contact</a>
        </li>
        
      </ul>
    </div>
  </div>
</nav>


  <div class="spacer-5"></div>

  <div id="vue-app" class="container" v-cloak>
    <template v-if="errorLoading">
      <div class="w-100 d-flex flex-column justify-content-center align-items-start">
        <h4>We encountered an error while loading this page.</h4>
        <span class="text-muted">${ errorMessage }</span>
      </div>
    </template>
    <template v-if="place">
      <div class="w-100 bg-light rounded d-flex flex-row justify-content-between align-items-start p-3">
        <div class="d-flex flex-column flex-grow-1 justify-content-between m-2">
          <h2 style="margin-bottom: 0">${ place.fields.countryName }</h2>
          <span class="text-muted">${ place.fields.wbRegion }</span>
          <h5 class="mt-3">
            Population:
            <span v-if="place.fields.indicators?.wb_SP_POP_TOTL.value">${ place.fields.indicators.wb_SP_POP_TOTL.value |
              friendlyNumber }</span>
            <span v-else>unknown</span>
            <i class="fas fa-info-circle"
              :popover="`Population is based on the de facto definition of population, which counts all residents regardless of legal status or citizenship. Female or male population is the percentage of the population. <hr>Source: World Bank<br>Updated: ${ place.fields.indicators?.wb_SP_POP_TOTL?.date }`"></i>
          </h5>
          <div v-if="PopMalePer" class="progress" style="height: 3em;">
            <div v-if="PopMalePer" :style="{width: PopMalePer + '%' }" class="progress-bar bg-male" role="progressbar"
              :aria-valuenow=" PopMalePer " aria-valuemin="0" aria-valuemax="100">
              <i class="fas fa-male mx-1"></i>
              <span class="percentage">${ PopMalePer.toFixed(2) | friendlyNumber }</span>
            </div>
            <div v-if="PopFemalePer" :style="{width: PopFemalePer + '%' }" class="progress-bar bg-female"
              role="progressbar" :aria-valuenow=" PopFemalePer " aria-valuemin="0" aria-valuemax="100">
              <i class="fas fa-female mx-1"></i>
              <span class="percentage">${ PopFemalePer.toFixed(2) | friendlyNumber }</span>
            </div>
          </div>
          <h5 v-if="place.fields.indicators" class="mt-3">
            School-age population:
            <span v-if="schoolAgePopulation">${ schoolAgePopulation.total | friendlyNumber }</span>
            <span v-else>unknown</span>
            <i class="fas fa-info-circle"
              :popover="`School-aged population is calculated by adding the primary and secondary grade-level populations. Refer to education statistics below for more information.`"></i>
          </h5>
          <div v-if="schoolAgePopulation" class="progress" style="height: 3em;">
            <div v-if="schoolAgePopulation.malePercent" :style="{width: schoolAgePopulation.malePercent + '%' }"
              class="progress-bar bg-male" role="progressbar" :aria-valuenow=" schoolAgePopulation.malePercent "
              aria-valuemin="0" aria-valuemax="100">
              <i class="fas fa-male mx-1"></i>
              <span class="percentage">${ schoolAgePopulation.malePercent }</span>

            </div>
            <div v-if="schoolAgePopulation" :style="{width: schoolAgePopulation.femalePercent + '%' }"
              class="progress-bar bg-female" role="progressbar" :aria-valuenow=" schoolAgePopulation.femalePercent "
              aria-valuemin="0" aria-valuemax="100">
              <i class="fas fa-female mx-1"></i>
              <span class="percentage">${ schoolAgePopulation.femalePercent }</span>

            </div>
          </div>
        </div>
        <img :src="`https://flagcdn.com/${ place.fields?.iso3166Alpha2Code?.toLowerCase() }.svg`"
          class="float-right w-25 rounded m-2" :alt="`Flag of ${ place.fields.countryName }`">
      </div>

      <div v-if="placeCovid" class="w-100 bg-light rounded p-3 my-5">
        <h3>
          Covid-19 Statistics
          <i class="fas fa-info-circle"
            :popover="`<strong>Cases</strong>: total number of cases since the beginning of the Covid-19 pandemic.<br><strong>Deaths</strong>: total number of deaths attributed to Covid-19 since the beginning of the pandemic.</br><strong>Vaccinations</strong>: the number of people who have been fully vaccinated for protection against Covid-19.<hr>Source: Our World In Data<br>Updated: ${ this.placeCovid.updated }`"></i>
        </h3>
        <div class="d-flex flex-row justify-content-around align-items-start m-5">
          <div class="d-flex flex-column align-items-center">
            <h5>${ placeCovid['total_cases'] | friendlyNumber }</h5>
            <h2><i class="fas fa-virus"></i> </h2>
            <span>Cases</span>
          </div>
          <div class="d-flex flex-column align-items-center">
            <h5>${ placeCovid['total_deaths'] | friendlyNumber }</h5>
            <h2><i class="fas fa-heart-broken"></i></h2>
            <span>Deaths</span>
          </div>
          <div class="d-flex flex-column align-items-center">
            <h5>${ placeCovid['people_fully_vaccinated'] | friendlyNumber }</h5>
            <h2><i class="fas fa-syringe"></i></h2>
            <span>Vaccinations</span>
          </div>
        </div>
        <div class="d-flex flex-row justify-content-end">
          <a :href="`https://coronavirus.jhu.edu/region/${place.fields.iso3166Alpha2Code?.toLowerCase()}`">More
            information about coronavirus in this country <i class="fas fa-external-link-alt"></i></a>
        </div>
      </div>
      <!--- Gant Chart-->



      <div v-if="placeTimeline" class="w-100 bg-light rounded p-3 my-5">
        <h3>
          Education Status History
          <i class="fas fa-info-circle"
            popover="Overall status is determined by combining Primary, Lower Secondary, and Upper Secondary status. <strong>Light gray indicates no data for a particular response round.</strong>"></i>
        </h3>
        <div class="chart-wrapper">
          <ul class="chart-values">
            <li v-for='(index, pos) in placeTimeline?.periods' v-bind:style= "[placeTimeline?.periods[pos]?.type == 'observed' ? {'color': ''} : {'color': 'lightgray'}]" 
              :popover="placeTimeline?.periods[pos]?.type == 'observed' ? 'Round ' + index.roundNumber : 'Round ' + index.roundNumber + '<hr> No data collected.'"
              :data-round="pos"
              :key='pos'>${ index.endDate }</li>
          </ul>
          <ul class="chart-bars">
            <!-- <li data-duration="1-2" data-color="#0C619D">Online</li>
                      <li data-duration="3-7" data-color="#AA5986">Hybrid</li>
                      <li data-duration="4½-6" data-color="#FF9100">In Person</li> -->
              <div  v-if="placeTimeline.countryInfo[1].times.length > 0" class="group">
                <li v-for='dates in placeTimeline.countryInfo[1].times' :data-duration="dates" data-color="#e63946">Closed</li>
              </div>
              <div  v-if="placeTimeline.countryInfo[6].times.length > 0" class="group">
                <li v-for='dates in placeTimeline.countryInfo[6].times' :data-duration="dates" data-color="#1B1725">Extended Break</li>
              </div>
              <div  v-if="placeTimeline.countryInfo[2].times.length > 0"class="group">
                <li v-for='dates in placeTimeline.countryInfo[2].times' :data-duration="dates" data-color="#AA5986">Remote</li>
              </div>
              <div  v-if="placeTimeline.countryInfo[3].times.length > 0"class="group">
                <li v-for='dates in placeTimeline.countryInfo[3].times' :data-duration="dates" data-color="#FF9100">Hybrid</li>
              </div>
              <div  v-if="placeTimeline.countryInfo[4].times.length > 0"class="group">
                <li v-for='dates in placeTimeline.countryInfo[4].times' :data-duration="dates" data-color="#0C619D">In Person</li>
              </div>
            
            
            
            
            <!--- Unknown Data -->
            <!-- <li v-for='dates in placeTimeline[5].times' :data-duration="dates" data-color="#FF9100">${ dates }</li> -->

          </ul>
          
        </div>
      </div>


      <!--- Gant Chart-->
      <div class="w-100 bg-light rounded p-3 my-5">
        <div class="w-100 d-flex flex-row justify-content-between align-items-baseline">
          <h3>Education Status</h3>
          <span>Updated ${ this.place.fields.mostRecentResponseDate }</span>
        </div>
        <div class="d-flex flex-row align-items-center col-10 col-md-8 col-lg-6 mx-auto my-2">
          <h5 class="flex-grow-1">Overall <i class="fas fa-info-circle"
              popover="Overall status is determined by combining Primary, Lower Secondary, and Upper Secondary status."></i>
          </h5>
          <span class="badge bg-secondary"
            v-if="educationServices('mostRecentEducationStatusCode').includes('extendedBreak')"><i
              class="fas fa-umbrella-beach"></i> On extended break</span>
          <span class="badge bg-danger"
            v-if="educationServices('mostRecentEducationStatusCode').includes('covidClosed')"><i
              class="fas fa-times"></i> Closed due to COVID-19</span>
          <span class="badge bg-secondary"
            v-if="educationServices('mostRecentEducationStatusCode').includes('remote')"><i class="fas fa-home"></i>
            Remote</span>
          <span class="badge bg-info" v-if="educationServices('mostRecentEducationStatusCode').includes('hybrid')"><i
              class="fas fa-school"></i> + <i class="fas fa-home"></i> Hybrid</span>
          <span class="badge bg-dark" v-if="educationServices('mostRecentEducationStatusCode').includes('inPerson')"><i
              class="fas fa-school"></i> In-Person</span>
        </div>
        <template v-for="gradeLevel of gradeLevelList">
          <div v-if="place.fields[gradeLevel.mresKey]"
            class="d-flex flex-row align-items-center col-10 col-md-8 col-lg-6 mx-auto my-2">
            <h5 class="flex-grow-1">${ gradeLevel.label }<i v-if="gradeLevel.infoText" class="fas fa-info-circle"
                :popover="gradeLevel.infoText"></i></h5>
            <span class="badge bg-secondary" v-if="educationServices(gradeLevel.mresKey).includes('extendedBreak')"><i
                class="fas fa-umbrella-beach"></i> On extended break</span>
            <span class="badge bg-danger" v-if="educationServices(gradeLevel.mresKey).includes('covidClosed')"><i
                class="fas fa-times"></i> Closed due to COVID-19</span>
            <span class="badge bg-secondary" v-if="educationServices(gradeLevel.mresKey).includes('remote')"><i
                class="fas fa-home"></i> Remote</span>
            <span class="badge bg-info" v-if="educationServices(gradeLevel.mresKey).includes('hybrid')"><i
                class="fas fa-school"></i> + <i class="fas fa-home"></i> Hybrid</span>
            <span class="badge bg-dark" v-if="educationServices(gradeLevel.mresKey).includes('inPerson')"><i
                class="fas fa-school"></i> In-Person</span>
          </div>
        </template>
        <div>
          <h4 class="mt-4">In-person education supports by grade level</h4>
          <div class="table-responsive">
            <table class="w-100 table table-hover">
              <tr v-for="gradeLevel in gradeLevelList">
                <th scope="row">${gradeLevel.label}</td>
                <td v-for="ipasOption in ipasOptions"><small
                    v-if="place.fields[gradeLevel.ipasKey]?.includes(ipasOption.value)"
                    class="d-flex flex-row align-items-start"><i
                      v-bind:class="`fas fa-${ ipasOption.faIcon } mx-1 my-auto`"></i><span>${ ipasOption.label
                      }</span></small></td>
              </tr>
            </table>
          </div>
        </div>
        <div>
          <h4 class="mt-4">Remote education supports by grade level</h4>
          <div class="table-responsive">
            <table class="w-100 table table-hover">
              <tr v-for="gradeLevel in gradeLevelList">
                <th scope="row">${gradeLevel.label}</td>
                <td v-for="mrremOption in mrremOptions"><small
                    v-if="place.fields[gradeLevel.mrremKey]?.includes(mrremOption.value)"
                    class="d-flex flex-row align-items-start"><i
                      v-bind:class="`fas fa-${ mrremOption.faIcon } mx-1 my-auto`"></i><span>${ mrremOption.label
                      }</span></small></td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <div class="w-100 bg-light rounded p-3 my-5">
        <h3>
          Education Statistics
        </h3>
        <template v-if="place.fields.indicators">
          <div class="my-3">
            <h4>
              School-age populations
              <i class="fas fa-info-circle"
                :popover="`Population of the age group theoretically corresponding to the specified education level as indicated by theoretical entrance age and duration.<hr>Source: World Bank<br>Updated: ${ place.fields.indicators?.wb_SP_PRE_TOTL_MA_IN?.date }`"></i>
            </h4>
            <div class="w-100 d-flex flex-row justify-content-center align-items-center my-3">
              <h6 class="col-3">Pre-Primary</h6>
              <h6 v-if="place.fields.indicators.wb_SP_PRE_TOTL_FE_IN" class="col-3">
                ${ (place.fields.indicators.wb_SP_PRE_TOTL_FE_IN?.value +
                place.fields.indicators?.wb_SP_PRE_TOTL_MA_IN?.value ).toLocaleString('en-US') }
              </h6>
              <div class="progress text-center col-6">
                <div v-if="prePrimaryMalePer" :style="{width: prePrimaryMalePer + '%' }" class="progress-bar bg-male"
                  role="progressbar" :aria-valuenow=" prePrimaryMalePer" aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-male mx-1"></i>
                  <span class="percentage">${ prePrimaryMalePer.toFixed(2) }</span>
                </div>
                <div v-if="prePrimaryFemalePer" :style="{width: prePrimaryFemalePer + '%' }"
                  class="progress-bar bg-female" role="progressbar" :aria-valuenow="prePrimaryFemalePer"
                  aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-female mx-1"></i>
                  <span class="percentage">${ prePrimaryFemalePer.toFixed(2) }</span>
                </div>
              </div>
            </div>
            <div class="w-100 d-flex flex-row justify-content-center align-items-center my-3">
              <h6 class="col-3">Primary (all years)</h6>
              <h6 v-if="place.fields.indicators.wb_SP_PRE_TOTL_FE_IN" class="col-3">
                ${ place.fields.indicators.wb_SP_PRM_TOTL_IN?.value.toLocaleString() }
              </h6>
              <div class="progress text-center col-6">
                <div v-if="primaryMalePer" :style="{width: primaryMalePer + '%' }" class="progress-bar bg-male"
                  role="progressbar" :aria-valuenow="primaryMalePer " aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-male mx-1"></i>
                  <span class="percentage">${ primaryMalePer.toFixed(2) }</span>

                </div>
                <div v-if="primaryFemalePer" :style="{width: primaryFemalePer + '%' }" class="progress-bar bg-female"
                  role="progressbar" :aria-valuenow="primaryFemalePer" aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-female mx-1"></i>
                  <span class="percentage">${ primaryFemalePer.toFixed(2) }</span>
                </div>
              </div>
            </div>
            <div class="w-100 d-flex flex-row justify-content-center align-items-center my-3">
              <h6 class="col-3">Primary (final year)</h6>
              <h6 v-if="place.fields.indicators.wb_SP_PRM_GRAD_TO" class="col-3">
                ${ place.fields.indicators.wb_SP_PRM_GRAD_TO.value.toLocaleString() }
              </h6>
              <div class="progress text-center col-6">
                <div v-if="primaryLastMalePer" :style="{width: primaryMalePer + '%' }" class="progress-bar bg-male"
                  role="progressbar" :aria-valuenow="primaryLastMalePer " aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-male mx-1"></i>
                  <span class="percentage">${ primaryLastMalePer.toFixed(2) }</span>
                </div>
                <div v-if="primaryLastFemalePer" :style="{width: primaryLastFemalePer + '%' }"
                  class="progress-bar bg-female" role="progressbar" :aria-valuenow="primaryLastFemalePer"
                  aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-female mx-1"></i>
                  <span class="percentage">${ primaryLastFemalePer.toFixed(2) }</span>
                </div>
              </div>
            </div>
            <div class="w-100 d-flex flex-row justify-content-center align-items-center my-3">
              <h6 class="col-3">Secondary (lower)</h6>
              <h6 v-if="place.fields.indicators.wb_SP_PRE_TOTL_FE_IN" class="col-3">
                ${ place.fields.indicators.wb_SP_SEC_LTOT_IN.value.toLocaleString() }
              </h6>
              <div class="progress text-center col-6">
                <div v-if="lowerSecondaryMalePer" :style="{width: lowerSecondaryMalePer + '%' }"
                  class="progress-bar bg-male" role="progressbar" :aria-valuenow="primaryMalePer " aria-valuemin="0"
                  aria-valuemax="100">
                  <i class="fas fa-male mx-1"></i>
                  <span class="percentage">${ lowerSecondaryMalePer.toFixed(2) }</span>

                </div>
                <div v-if="lowerSecondaryFemalePer" :style="{width: lowerSecondaryFemalePer + '%' }"
                  class="progress-bar bg-female" role="progressbar" :aria-valuenow="lowerSecondaryFemalePer"
                  aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-female mx-1"></i>
                  <span class="percentage">${ lowerSecondaryFemalePer.toFixed(2) }</span>
                </div>
              </div>
            </div>
            <div class="w-100 d-flex flex-row justify-content-center align-items-center my-3">
              <h6 class="col-3">Secondary (upper)</h6>
              <h6 v-if="place.fields.indicators.wb_SP_PRE_TOTL_FE_IN" class="col-3">
                ${ place.fields.indicators.wb_SP_SEC_UTOT_IN.value.toLocaleString() }
              </h6>
              <div class="progress text-center col-6">
                <div v-if="upperSecondaryMalePer" :style="{width: upperSecondaryMalePer + '%' }"
                  class="progress-bar bg-male" role="progressbar" :aria-valuenow="upperSecondaryMalePer "
                  aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-male mx-1"></i>
                  <span class="percentage">${ upperSecondaryMalePer.toFixed(2) }</span>

                </div>
                <div v-if="upperSecondaryFemalePer" :style="{width: upperSecondaryFemalePer + '%' }"
                  class="progress-bar bg-female" role="progressbar" :aria-valuenow="upperSecondaryFemalePer"
                  aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-female mx-1"></i>
                  <span class="percentage">${ upperSecondaryFemalePer.toFixed(2) }</span>
                </div>
              </div>
            </div>
            <div class="w-100 d-flex flex-row justify-content-center align-items-center my-3">
              <h6 class="col-3">Secondary (combined)</h6>
              <h6 v-if="place.fields.indicators.wb_SP_SEC_TOTL_IN" class="col-3">
                ${ place.fields.indicators.wb_SP_SEC_TOTL_IN.value.toLocaleString() }
              </h6>
              <div class="progress text-center col-6">
                <div v-if="secondaryMalePer" :style="{width: secondaryMalePer + '%' }" class="progress-bar bg-male"
                  role="progressbar" :aria-valuenow="secondaryMalePer " aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-male mx-1"></i>
                  <span class="percentage">${ secondaryMalePer.toFixed(2) }</span>

                </div>
                <div v-if="secondaryFemalePer" :style="{width: secondaryFemalePer + '%' }"
                  class="progress-bar bg-female" role="progressbar" :aria-valuenow="secondaryFemalePer"
                  aria-valuemin="0" aria-valuemax="100">
                  <i class="fas fa-female mx-1"></i>
                  <span class="percentage">${ secondaryFemalePer.toFixed(2) }</span>
                </div>
              </div>
            </div>
          </div>
          <div class="my-3">
            <h4>Enrollment ratios</h4>
            <h5 class="my-3">
              Gross enrollment ratios
              <i class="fas fa-info-circle"
                popover="The ratio of total enrollment, regardless of age, to the population of the age group that officially corresponds to the level of education shown.<hr>Source: World Bank<br>Date: TK"></i>
            </h5>
            <div>
              <div class="w-100 my-3 d-flex flew-row justify-content-between align-items-center">
                <h6 class="col-2">Primary</h6>
                <div v-if="place.fields.indicators.wb_SE_PRM_ENRR" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_PRM_ENRR.value + '%' }"
                    class="progress-bar bg-secondary d-flex flex-row align-items-center" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_PRM_ENRR.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <span class="percentage">${ place.fields.indicators.wb_SE_PRM_ENRR.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_SE_PRM_ENRR_MA" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_PRM_ENRR_MA.value + '%' }"
                    class="progress-bar bg-male" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_PRM_ENRR_MA.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <i class="fas fa-male mx-1"></i>
                    <span class="percentage">${ place.fields.indicators.wb_SE_PRM_ENRR_MA.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_SE_PRM_ENRR_FE" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_PRM_ENRR_FE.value + '%' }"
                    class="progress-bar bg-female" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_PRM_ENRR_FE.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <i class="fas fa-female mx-1"></i>
                    <span class="percentage">${ place.fields.indicators.wb_SE_PRM_ENRR_FE.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
              </div>
              <div class="w-100 my-3 d-flex flew-row justify-content-between align-items-center">
                <h6 class="col-2">Secondary</h6>
                <div v-if="place.fields.indicators.wb_SE_SEC_ENRR" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_SEC_ENRR.value + '%' }"
                    class="progress-bar bg-secondary d-flex flex-row align-items-center" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_SEC_ENRR.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <span class="percentage">${ place.fields.indicators.wb_SE_SEC_ENRR.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_SE_SEC_ENRR_MA" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_SEC_ENRR_MA.value + '%' }"
                    class="progress-bar bg-male" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_SEC_ENRR_MA.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <i class="fas fa-male mx-1"></i>
                    <span class="percentage">${ place.fields.indicators.wb_SE_SEC_ENRR_MA.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_SE_SEC_ENRR_FE" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_SEC_ENRR_FE.value + '%' }"
                    class="progress-bar bg-female" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_SEC_ENRR_FE.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <i class="fas fa-female mx-1"></i>
                    <span class="percentage">${ place.fields.indicators.wb_SE_SEC_ENRR_FE.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
              </div>
            </div>
            <h5 class="my-3">
              Net enrollment ratios
              <i class="fas fa-info-circle"
                popover="The ratio of children of official school age who are enrolled in school to the population of the corresponding official school age.<hr>Source: World Bank<br>Date: TK"></i>
            </h5>
            <div>
              <div class="w-100 my-3 d-flex flew-row justify-content-between align-items-center">
                <h6 class="col-2">Primary</h6>
                <div v-if="place.fields.indicators.wb_SE_PRM_NENR" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_PRM_NENR.value + '%' }"
                    class="progress-bar bg-secondary d-flex flex-row align-items-center" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_PRM_NENR.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <span class="percentage">${ place.fields.indicators.wb_SE_PRM_NENR.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_SE_PRM_NENR_MA" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_PRM_NENR_MA.value + '%' }"
                    class="progress-bar bg-male" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_PRM_NENR_MA.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <i class="fas fa-male mx-1"></i>
                    <span class="percentage">${ place.fields.indicators.wb_SE_PRM_NENR_MA.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_SE_PRM_NENR_FE" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_PRM_NENR_FE.value + '%' }"
                    class="progress-bar bg-female" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_PRM_NENR_FE.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <i class="fas fa-female mx-1"></i>
                    <span class="percentage">${ place.fields.indicators.wb_SE_PRM_NENR_FE.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
              </div>
              <div class="w-100 my-3 d-flex flew-row justify-content-between align-items-center">
                <h6 class="col-2">Secondary</h6>
                <div v-if="place.fields.indicators.wb_SE_SEC_NENR" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_SEC_NENR.value + '%' }"
                    class="progress-bar bg-secondary d-flex flex-row align-items-center" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_SEC_NENR.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <span class="percentage">${ place.fields.indicators.wb_SE_SEC_NENR.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_SE_SEC_NENR_MA" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_SEC_NENR_MA.value + '%' }"
                    class="progress-bar bg-male" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_SEC_NENR_MA.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <i class="fas fa-male mx-1"></i>
                    <span class="percentage">${ place.fields.indicators.wb_SE_SEC_NENR_MA.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_SE_SEC_NENR_FE" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_SEC_NENR_FE.value + '%' }"
                    class="progress-bar bg-female" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_SEC_NENR_FE.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <i class="fas fa-female mx-1"></i>
                    <span class="percentage">${ place.fields.indicators.wb_SE_SEC_NENR_FE.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
              </div>
            </div>
          </div>
          <div class="my-3">
            <h4>Poverty</h4>
            <div>
              <div class="w-100 my-3 d-flex flew-row justify-content-between align-items-center">
                <h6 class="col-2">
                  Learning
                  <i class="fas fa-info-circle"
                    popover="Share of Children at the End-of-Primary age below minimum reading proficiency adjusted by Out-of-School Children (%).<hr>Source: World Bank<br>Date: TK"></i>
                </h6>
                <div v-if="place.fields.indicators.wb_SE_LPV_PRIM" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_LPV_PRIM.value + '%' }"
                    class="progress-bar bg-secondary d-flex flex-row align-items-center" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_LPV_PRIM.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <span class="percentage">${ place.fields.indicators.wb_SE_LPV_PRIM.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_SE_LPV_PRIM_MA" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_LPV_PRIM_MA.value + '%' }"
                    class="progress-bar bg-male" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_LPV_PRIM_MA.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <i class="fas fa-male mx-1"></i>
                    <span class="percentage">${ place.fields.indicators.wb_SE_LPV_PRIM_MA.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_SE_LPV_PRIM_FE" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SE_LPV_PRIM_FE.value + '%' }"
                    class="progress-bar bg-female" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SE_LPV_PRIM_FE.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <i class="fas fa-female mx-1"></i>
                    <span class="percentage">${ place.fields.indicators.wb_SE_LPV_PRIM_FE.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
              </div>
              <div class="w-100 my-3 d-flex flew-row justify-content-between align-items-center">
                <h6 class="col-2">
                  Monetary
                  <i class="fas fa-info-circle"
                    popover="Multidimensional poverty, Monetary poverty (% of population deprived)<hr>Source: World Bank<br>Date: TK"></i>
                </h6>
                <div v-if="place.fields.indicators.wb_SI_POV_DDAY_MI" class="progress text-center col-3">
                  <div :style="{width: place.fields.indicators.wb_SI_POV_DDAY_MI.value + '%' }"
                    class="progress-bar bg-secondary d-flex flex-row align-items-center" role="progressbar"
                    :aria-valuenow=" place.fields.indicators.wb_SI_POV_DDAY_MI.value " aria-valuemin="0"
                    aria-valuemax="100">
                    <span class="percentage">${ place.fields.indicators.wb_SI_POV_DDAY_MI.value.toFixed(2) }</span>
                  </div>
                </div>
                <div v-else
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div
                  class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
                </div>
              </div>
            </div>
          </div>
          <div class="my-3">
            <h4>
              School internet access <i class="fas fa-info-circle"
                popover="Proportion of schools, by grade level, with access to Internet for pedagogical purposes.<hr>Source: UNESCO Institute for Statistics via World Bank<br>Updated: TK"></i>
            </h4>
            <div class="d-flex flex-row justify-content-center align-items-center my-3">
              <span class="col-3">Primary</span>
              <div v-if="place.fields.indicators.wb_UIS_SCHBSP_1_WINTERN" class="col-9 progress text-center w-50"
                style="height: 3em">
                <div class="progress-bar bg-info d-flex flex-row align-items-center" role="progressbar"
                  :style="{ width: place.fields.indicators.wb_UIS_SCHBSP_1_WINTERN?.value.toFixed(2) + '%' }"
                  :aria-valuenow="place.fields.indicators.wb_UIS_SCHBSP_1_WINTERN?.value.toFixed(2)" aria-valuemin="0"
                  aria-valuemax="100">
                  <i class="fas fa-globe mx-1"></i>
                  ${ place.fields.indicators.wb_UIS_SCHBSP_1_WINTERN?.value.toFixed(2) }%
                </div>
              </div>
              <div v-else
                class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
              </div>
            </div>
            <div class="d-flex flex-row justify-content-center align-items-center my-3">
              <span class="col-3">Lower Secondary</span>
              <div v-if="place.fields.indicators.wb_UIS_SCHBSP_2_WINTERN" class="col-9 progress text-center w-50"
                style="height: 3em">
                <div class="progress-bar bg-info d-flex flex-row align-items-center" role="progressbar"
                  :style="{ width: place.fields.indicators.wb_UIS_SCHBSP_2_WINTERN?.value.toFixed(2) + '%' }"
                  :aria-valuenow="place.fields.indicators.wb_UIS_SCHBSP_2_WINTERN?.value.toFixed(2)" aria-valuemin="0"
                  aria-valuemax="100">
                  <i class="fas fa-globe mx-1"></i>
                  ${ place.fields.indicators.wb_UIS_SCHBSP_2_WINTERN?.value.toFixed(2) }%
                </div>
              </div>
              <div v-else
                class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
              </div>
            </div>
            <div class="d-flex flex-row justify-content-center align-items-center my-3">
              <span class="col-3">Lower Secondary</span>
              <div v-if="place.fields.indicators.wb_UIS_SCHBSP_3_WINTERN" class=" col-9 progress text-center w-50"
                style="height: 3em">
                <div class="progress-bar bg-info d-flex flex-row align-items-center" role="progressbar"
                  :style="{ width: place.fields.indicators.wb_UIS_SCHBSP_3_WINTERN?.value.toFixed(2) + '%' }"
                  :aria-valuenow="place.fields.indicators.wb_UIS_SCHBSP_3_WINTERN?.value.toFixed(2)" aria-valuemin="0"
                  aria-valuemax="100">
                  <i class="fas fa-globe mx-1"></i>
                  ${ place.fields.indicators.wb_UIS_SCHBSP_3_WINTERN?.value.toFixed(2) }%
                </div>
              </div>
              <div v-else
                class="col-3 text-center text-muted progress d-flex flex-row align-items-center justify-content-center not-available">
              </div>
            </div>
          </div>
          <div class="my-3">
            <h4>Other</h4>
            <div>
              <div class="w-100 my-3 d-flex flew-row justify-content-between align-items-center">
                <h6 class="col-3">
                  Learning years adjusted
                  <i class="fas fa-info-circle"
                    popover="Learning-Adjusted Years of School<hr>Source: World Bank<br>Date: TK"></i>
                </h6>
                <div v-if="place.fields.indicators.wb_HD_HCI_LAYS" class="text-center col-3">
                  <span>${ place.fields.indicators.wb_HD_HCI_LAYS.value.toFixed(2) }</span>
                </div>
                <div v-else
                  class="col-3 text-muted d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_HD_HCI_LAYS_MA" class="text-center col-3">
                  <i class="fas fa-male mx-1"></i>
                  <span>${ place.fields.indicators.wb_HD_HCI_LAYS_MA.value.toFixed(2) }</span>
                </div>
                <div v-else
                  class="col-3 text-muted d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_HD_HCI_LAYS_FE" class="text-center col-3">
                  <i class="fas fa-female mx-1"></i>
                  <span>${ place.fields.indicators.wb_HD_HCI_LAYS_FE.value.toFixed(2) }</span>
                </div>
                <div v-else
                  class="col-3 text-muted d-flex flex-row align-items-center justify-content-center not-available">
                </div>
              </div>
              <div class="w-100 my-3 d-flex flew-row justify-content-between align-items-center">
                <h6 class="col-3">
                  Harmonized test scores
                  <i class="fas fa-info-circle" popover="Harmonized Test Scores<hr>Source: World Bank<br>Date: TK"></i>
                </h6>
                <div v-if="place.fields.indicators.wb_HD_HCI_HLOS" class="text-center col-3">
                  <span>${ place.fields.indicators.wb_HD_HCI_HLOS.value.toFixed(2) }</span>
                </div>
                <div v-else
                  class="col-3 text-muted d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_HD_HCI_HLOS_MA" class="text-center col-3">
                  <i class="fas fa-male mx-1"></i>
                  <span>${ place.fields.indicators.wb_HD_HCI_HLOS_MA.value.toFixed(2) }</span>
                </div>
                <div v-else
                  class="col-3 text-muted d-flex flex-row align-items-center justify-content-center not-available">
                </div>
                <div v-if="place.fields.indicators.wb_HD_HCI_HLOS_FEM" class="text-center col-3">
                  <i class="fas fa-female mx-1"></i>
                  <span>${ place.fields.indicators.wb_HD_HCI_HLOS_FE.value.toFixed(2) }</span>
                </div>
                <div v-else
                  class="col-3 text-muted d-flex flex-row align-items-center justify-content-center not-available">
                </div>
              </div>
            </div>
          </div>
        </template>
        <template v-else>
          <div class="w-100 text-center not-available"></div>
        </template>
      </div>

      <div class="spacer-10"></div>

      <div class="container">
        To cite this work, use the following: Johns Hopkins University, World Bank & UNICEF (2021). COVID-19 Global
        Education Recovery Tracker. Baltimore, Washington DC, New York: JHU, World Bank, UNICEF.
      </div>

    </template>

  </div>


  <div class="spacer-10"></div>




  <script>

    const vm = new Vue({
      el: '#vue-app',
      data() {
        return {
          countries: [],
          errorLoading: false,
          errorMessage: undefined,
          places: [],
          placesCovid: [],
          placesTimeline: [],
          responseRounds: [],
          // this structure defines the various grade levels and the variable names for the fields which are broken out by grade level
          // if a variable doesn't include a grade level, it is left undefined (e.g. in-person academic supports [ipasKey] isn't collected for higher or vocational)
          gradeLevelList: [
            { label: 'Pre-Primary', mresKey: 'mostRecentEducationStatusPrePrimaryCode', ipasKey: 'mostRecentInPersonAdditionalSupportPrePrimary', mrremKey: 'mostRecentRemoteEducationModalitiesPrePrimaryCode' },
            { label: 'Primary', mresKey: 'mostRecentEducationStatusPrimaryCode', ipasKey: 'mostRecentInPersonAdditionalSupportPrimary', mrremKey: 'mostRecentRemoteEducationModalitiesPrimaryCode' },
            { label: 'Lower Secondary', mresKey: 'mostRecentEducationStatusLowerSecondaryCode', ipasKey: 'mostRecentInPersonAdditionalSupportLowerSecondary', mrremKey: 'mostRecentRemoteEducationModalitiesLowerSecondaryCode' },
            { label: 'Upper Secondary', mresKey: 'mostRecentEducationStatusUpperSecondaryCode', ipasKey: 'mostRecentInPersonAdditionalSupportUpperSecondary', mrremKey: 'mostRecentRemoteEducationModalitiesUpperSecondaryCode' },
            { label: 'Higher Education', mresKey: 'mostRecentEducationStatusHigherCode', ipasKey: undefined, mrremKey: 'mostRecentRemoteEducationModalitiesHigherCode' },
            { label: 'Technical/vocational', mresKey: 'mostRecentEducationStatusVocationalCode', ipasKey: undefined, mrremKey: 'mostRecentRemoteEducationModalitiesVocationalCode' }
          ],
          ipasOptions: [
            { value: '1', label: 'School Day Changes', faIcon: 'calendar-day' },
            { value: '2', label: 'School Year Changes', faIcon: 'calendar-alt' },
            { value: '3', label: 'Teacher Tutoring', faIcon: 'school' },
            { value: '4', label: 'Non-Teacher Tutoring', faIcon: 'home' },
            { value: '5', label: 'Targeted Remedial Measures', faIcon: 'bullseye' },
            { value: '6', label: 'Other', faIcon: 'question' }
          ],
          mrremOptions: [
            { value: '1', label: 'Online platforms', faIcon: 'globe' },
            { value: '2', label: 'Television', faIcon: 'tv' },
            { value: '3', label: 'Radio', faIcon: 'broadcast-tower' },
            { value: '4', label: 'Mobile devices', faIcon: 'mobile' },
            { value: '5', label: 'Take-home packages', faIcon: 'paperclip' },
            { value: '8', label: 'Tutoring', faIcon: 'chalkboard-teacher' }
          ],

          // add object to contain covid indicators here

          filter: {
            upToRoundId: Infinity,
            showNoResponses: false
          },
          inPersonAdditionalSupportFields: [
            { name: 'inPersonAdditionalSupportPrePrimary', text: 'Pre-Primary' },
            { name: 'inPersonAdditionalSupportPrimary', text: 'Primary' },
            { name: 'inPersonAdditionalSupportLowerSecondary', text: 'Lower Secondary' },
            { name: 'inPersonAdditionalSupportUpperSecondary', text: 'Upper Secondary' }
          ],
          inPersonAdditionalSupportTypes: [
            { value: '1', title: 'School Day Changes', faIcon: 'calendar-day' },
            { value: '2', title: 'School Year Changes', faIcon: 'calendar-alt' },
            { value: '3', title: 'Teacher Tutoring', faIcon: 'school' },
            { value: '4', title: 'Non-Teacher Tutoring', faIcon: 'home' },
            { value: '5', title: 'Targeted Remedial Measures', faIcon: 'bullseye' },
            { value: '6', title: 'Other', faIcon: 'question' }
          ],
          remoteEducationModalityFields: [
            { name: 'remoteEducationModalitiesPrePrimaryCode', text: 'Pre-Primary' },
            { name: 'remoteEducationModalitiesPrimaryCode', text: 'Primary' },
            { name: 'remoteEducationModalitiesLowerSecondaryCode', text: 'Lower Secondary' },
            { name: 'remoteEducationModalitiesUpperSecondaryCode', text: 'Upper Secondary' },
            { name: 'remoteEducationModalitiesHigherCode', text: 'Higher Education' },
            { name: 'remoteEducationModalitiesVocationalCode', text: 'Technical/Vocational' }
          ],
          remoteEducationModalityTypes: [
            { value: '1', title: 'Online platforms', faIcon: 'globe' },
            { value: '2', title: 'Television', faIcon: 'tv' },
            { value: '3', title: 'Radio', faIcon: 'broadcast-tower' },
            { value: '4', title: 'Mobile devices', faIcon: 'mobile' },
            { value: '5', title: 'Take-home packages', faIcon: 'paperclip' },
            { value: '8', title: 'Tutoring', faIcon: 'chalkboard-teacher' }
          ]
        }
      },
      delimiters: ['${', '}'],  // need to use these because jekyll competes for 
      filters: {
        iso8601ToLocaleDateString: (value) => {
          if (value) {
            return (new Date(value)).toLocaleDateString(undefined, { timeZone: 'UTC' });
          } else {
            return null
          }
        },
        friendlyDate: function (value) {
          try {
            date = new Date.parse(value)
            return date
              .setHours(0)
              .setMinutes(0)
              .setSeconds(0)
              .setMilliseconds(0)
              .toLocaleString()
          } catch {
            return 'unknown'
          }
        },
        friendlyNumber: function (value) {
          try {
            return value.toLocaleString()
          } catch (err) {
            return 'unknown'
          }
        }
      },
      async created() {
        // load critical data in this block; a failure will cause an error message to be diplayed
        try {
          const placesResponse = await fetch('/data/global-with-indicators.json')
          if (placesResponse.ok) {
            this.places = await placesResponse.json()
            if (!this.place) {
              throw new Error('Unknown place identifier.')
            }
          } else {
            throw new Error(`HTTP Error ${placesResponse.status}: ${placesResponse.statusText} (${placesResponse.url.split('/').pop()})`)
          }
        } catch (e) {
          console.error(e)
          this.errorLoading = true
          this.errorMessage = e.message
        }

        // load non-critical data in this block; a failure will be logged to the console.
        // components which use data loaded from here shouldn't cause unhandled page crashes
        // Covid Data
        try {
          const placesCovidResponse = await fetch('/data/covid_data.json')
          if (placesCovidResponse.ok) {
            this.placesCovid = await placesCovidResponse.json()
          } else {
            throw new Error(`Error loading covid-data.json: ${placesCovidResponse.status} ${placesCovidResponse.statusText}`)
          }
        } catch (e) {
          console.error(e.message)
        }

        // Timeline Responses
        try {
          const placesTimelineResponse = await fetch('/data/global.v2.min.json')
          if (placesTimelineResponse.ok) {
            const data = await placesTimelineResponse.json()
            this.placesTimeline = data.countries
            this.responseRounds = data.responseRounds
          } else {
            throw new Error(`Error loading global.v2.json: ${placesTimelineResponse.status} ${placesTimelineResponse.statusText}`)
          }
        } catch (e) {
          console.error(e.message)
        }
        // End Data Loading
      },
      updated() {
        // tippy needs to initialize after DOM is rendered. Normally this would be mounted() but
        // since data is loaded asynchronously, mounted() will be called before the data has been loaded.
        tippy('[popover]', {
          placement: 'top',
          maxWidth: 350,
          allowHTML: true,
          onShow(instance) {
            instance.setContent(instance.reference.attributes.popover.value);
          }
        }),

          this.$nextTick(function () {
            window.addEventListener('resize', this.createChart);
            window.addEventListener('load', this.createChart);

            //Init
            this.createChart()

          })

        // this.createChart
      },
      computed: {
        // access this computed property to render the data, it applies the rules set by this.filter
        displayedCountries() {
          return this.countries
            .map((country) => {
              country.$displayedResponse = country.$responsesReversed?.find((response) => {
                return response.roundId <= this.filter.upToRoundId
              })
              return country
            })
            .filter((country) => {
              return this.filter.showNoResponses ? true : country.$displayedResponse
            })
        },
        mostRecentResponseDate() {
          // flatten all the responses into an array and iterate through them to
          // determine the most recent date for all of them
          return this.countries
            .flatMap(country => country.responsesPublic || [])
            .reduce((mrrd, response) => {
              return response.responseDate > mrrd ? response.responseDate : mrrd
            }, '0000-00-00')
        },

        place() {
          let placeId = this.placeId?.toUpperCase()
          let place = this.places?.find(place => place.fields.iso3166Alpha2Code === placeId)
          if (!place) {
            place = this.places?.find(place => place.id === this.placeId)
          }
          return place
        },
        mostRecentRoundId () {
          return this.placesTimeline
            .flatMap(country => country.responsesPublic || [])
            .reduce((mrrid, response) => {
              return response.roundId > mrrid ? response.roundId : mrrid
            }, 0)
        },
        placeTimeline() {
          
          let placeId = this.placeId?.toUpperCase()
          let place = this.placesTimeline?.find(place => place.iso3166Alpha2Code === placeId)
          if (!place) {
            place = this.placesTimeline?.find(place => place.id === this.placeId)
            return place
          }

          console.log(place)

          // Get max round ID for this location

          /* Based on most recent data for particular country:
          let maxRound = place.responsesPublic.slice(-1)[0].roundId;
          console.log(maxRound);
          */

          /* Based on most recent data collection round: */
          maxRound = this.mostRecentRoundId;

          let dateArr = this?.responseRounds.slice(0,maxRound)
          let length = dateArr.length


          let educationStatusTimeline = {
            dates: [],
            1: {
              text: "None",
              responses: [],
              times: []
            },
            2: {
              text: "Remote",
              responses: [],
              times: []
            },
            3: {
              text: "Hybrid",
              responses: [],
              times: []
            },
            4: {
              text: "In Person",
              responses: [],
              times: []
            },
            5: {
              text: "Unknown",
              responses: [],
              times: []
            },
            6: {
              text: "Extended Break",
              responses: [],
              times: []
            }
          }

          

          // for each public response
          place.responsesPublic.forEach(item => {
            educationStatusTimeline.dates.push(item.responseDate)
            // for each code, check current response
            for (let code = 1; code <= 5; code++) {
              if (item.educationStatusCode?.includes(code.toString())) {
                educationStatusTimeline[code].responses[item.roundId - 1] = true;
                //console.log(item.roundId)
              } else {
                educationStatusTimeline[code].responses[item.roundId - 1] = false;
              }
            }

            // Extended Break
            if (item.extendedBreakCode?.includes(1)) { // Includes True
              educationStatusTimeline[6].responses[item.roundId - 1] = true;
              //console.log(item.roundId)
            } else {
              educationStatusTimeline[6].responses[item.roundId - 1] = false;
            }

            /* Color Dates Based On Data Availability */
            dateArr[item.roundId-1].type="observed"


          })

          for (let code = 1; code <= 6; code++) { // Convert to start and end dates

            for (let index = 0; index <= educationStatusTimeline[code]?.responses.length;) {
              start = educationStatusTimeline[code]?.responses.indexOf(true, index)
              end = educationStatusTimeline[code]?.responses.indexOf(false, start) - 1

              if (start < 0) {
                break;
              }

              if (end < 0) {
                end = educationStatusTimeline[code]?.responses.length - 1;
              }

              let time = start + "-" + end

              if (start >= 0 && start <= end) {
                educationStatusTimeline[code]?.times.push(time)
              }

              index = end + 1
            }

          }



          //console.log(place)
          //console.log("DATA:",educationStatusTimeline)



          // Get Round Periods

          // function checkDate(item) {
          //   let today = new Date().toLocaleDateString()
          //   console.log(item.endDate, Date.parse(item.endDate))
          //   return Date.parse(endDate) <= today;
          // }

          
          
          return {
            periods: dateArr,
            countryInfo: educationStatusTimeline
          }
        },
        placeCovid() {
          let placeId = this.placeId?.toUpperCase()
          let placeCovid = this.placesCovid?.places?.find(placeCovid => placeCovid.iso2 === placeId)
          if (placeCovid) {
            placeCovid.updated = this.placesCovid?.fileDate
          }
          return placeCovid
        },
        placeId() {
          return window.location.search.replace('?', '')
        },
        // computes school-age population from primary + secondary totals.
        //  if one or both values is missing or the total is 0, return undefined
        schoolAgePopulation() {
          try {
            if (this.place?.fields?.indicators) {
              const sap = { total: 0, malePercent: 0, femalePercent: 0 }
              let totalMale = 0; let totalFemale = 0
              sap.total += this.place.fields.indicators.wb_SP_PRM_TOTL_IN?.value
              sap.total += this.place.fields.indicators.wb_SP_SEC_TOTL_IN?.value

              totalMale += this.place.fields.indicators.wb_SP_PRM_TOTL_MA_IN?.value
              totalMale += this.place.fields.indicators.wb_SP_SEC_TOTL_MA_IN?.value

              totalFemale += this.place.fields.indicators.wb_SP_PRM_TOTL_FE_IN?.value
              totalFemale += this.place.fields.indicators.wb_SP_SEC_TOTL_FE_IN?.value

              sap.malePercent = this.percentage(totalMale, sap.total)
              sap.femalePercent = this.percentage(totalFemale, sap.total)
              return sap.total === 0 ? undefined : sap
            }
          } catch (err) {
            console.error('schoolAgePopulation', err)
          }
          return undefined
        },
        // Upper secondary
        upperSecondaryMalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_SEC_UTOT_MA_IN?.value / this?.place?.fields?.indicators?.wb_SP_SEC_UTOT_IN?.value;
        },
        upperSecondaryFemalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_SEC_UTOT_FE_IN?.value / this?.place?.fields?.indicators?.wb_SP_SEC_UTOT_IN?.value;
        },// Secondary
        secondaryMalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_SEC_TOTL_MA_IN?.value / this?.place?.fields?.indicators?.wb_SP_SEC_TOTL_IN?.value;
        },
        secondaryFemalePer() {
          return 100 * (1 - this?.place?.fields?.indicators?.wb_SP_SEC_TOTL_MA_IN?.value / this?.place?.fields?.indicators?.wb_SP_SEC_TOTL_IN?.value);
        },// Lower Secondary
        lowerSecondaryMalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_SEC_LTOT_MA_IN?.value / this?.place?.fields?.indicators?.wb_SP_SEC_LTOT_IN?.value;
        },
        lowerSecondaryFemalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_SEC_LTOT_FE_IN?.value / this?.place?.fields?.indicators?.wb_SP_SEC_LTOT_IN?.value;
        },// Primary
        primaryMalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_PRM_TOTL_MA_IN?.value / this?.place?.fields?.indicators?.wb_SP_PRM_TOTL_IN?.value;
        },
        primaryFemalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_PRM_TOTL_FE_IN?.value / this?.place?.fields?.indicators?.wb_SP_PRM_TOTL_IN?.value;
        },// Primary Last
        primaryLastMalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_PRM_GRAD_MA?.value / this?.place?.fields?.indicators?.wb_SP_PRM_GRAD_TO?.value;
        },
        primaryLastFemalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_PRM_GRAD_FE?.value / this?.place?.fields?.indicators?.wb_SP_PRM_GRAD_TO?.value;
        },// Pre Primary
        prePrimaryMalePer() {
          let prePrimaryPop = this?.place?.fields?.indicators?.wb_SP_PRE_TOTL_FE_IN?.value + this?.place?.fields?.indicators?.wb_SP_PRE_TOTL_MA_IN?.value;
          return 100 * this?.place?.fields?.indicators?.wb_SP_PRE_TOTL_MA_IN?.value / prePrimaryPop;
        },
        prePrimaryFemalePer() {
          let prePrimaryPop = this?.place?.fields?.indicators?.wb_SP_PRE_TOTL_FE_IN?.value + this?.place?.fields?.indicators?.wb_SP_PRE_TOTL_MA_IN?.value;
          return 100 * this?.place?.fields?.indicators?.wb_SP_PRE_TOTL_FE_IN?.value / prePrimaryPop;
        },// Population
        PopMalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_POP_TOTL_MA_IN?.value / this?.place?.fields?.indicators?.wb_SP_POP_TOTL?.value;
        },
        PopFemalePer() {
          return 100 * this?.place?.fields?.indicators?.wb_SP_POP_TOTL_FE_IN?.value / this?.place?.fields?.indicators?.wb_SP_POP_TOTL?.value;
        },
      },
      methods: {

        educationServices(educationStatusCodeField) {
          educationServices = []
          if (this.place?.fields.mostRecentExtendedBreakCode && this.plase?.fields.mostRecentExtendedBreakCode.includes('1')) {
            educationServices.push('extendedBreak');
          } else if (this.place?.fields[educationStatusCodeField]) {
            if (this.place.fields[educationStatusCodeField].includes('1')) { educationServices.push('covidClosed') }
            if (this.place.fields[educationStatusCodeField].includes('2')) { educationServices.push('remote') }
            if (this.place.fields[educationStatusCodeField].includes('3')) { educationServices.push('hybrid') }
            if (this.place.fields[educationStatusCodeField].includes('4')) { educationServices.push('inPerson') }
          }
          return educationServices
        },
        percentage(subTotal, total) {
          return (100 * subTotal / total).toFixed(2)
        },
        createChart(e) {
          const days = document.querySelectorAll(".chart-values li");
          const tasks = document.querySelectorAll(".chart-bars li");
          const daysArray = [...days];

          tasks.forEach(el => {
            const duration = el.dataset.duration.split("-");
            // console.log(el)
            // console.log("ELEMENT", el.dataset);
            const startDay = duration[0];
            const endDay = duration[1];
            let left = 0,
              width = 0;

            if (startDay.endsWith("½")) {
              const filteredArray = daysArray.filter(day => day.dataset.round == startDay.slice(0, -1));
              left = filteredArray[0].offsetLeft + filteredArray[0].offsetWidth / 2 - 40;
            } else {
              const filteredArray = daysArray.filter(day => day.dataset.round == startDay);
              left = filteredArray[0].offsetLeft - 40;

            }

            if (endDay.endsWith("½")) {
              const filteredArray = daysArray.filter(day => day.dataset.round == endDay.slice(0, -1));
              width = filteredArray[0].offsetLeft + filteredArray[0].offsetWidth / 2 - left - 40;
            } else {
              const filteredArray = daysArray.filter(day => day.dataset.round == endDay);
              width = filteredArray[0].offsetLeft + filteredArray[0].offsetWidth - left - 40;
            }

            // apply css
            el.style.left = `${left}px`;
            el.style.width = `${width}px`;

            // if (e?.type == "load" || e?.type == "resize") {
            // console.log("COLOR:", el.dataset.color)
            el.style.backgroundColor = el.dataset.color;
            el.style.opacity = 0.8;
            // }
          });
        },

        // pre-process the data to improve page rendering performance
        processCountries(countries) {
          for (const country of countries) {

            // responsesPublic are sorted chronologically by default, so we set up 
            // $responsesReversed to improve selection performance for more recent responses
            country.$responsesReversed = country.responsesPublic?.slice().reverse()

            // iterate through all the responses and synthesize some helper values for the UI:
            country.responsesPublic?.forEach((response) => {

              // $educationServices is a synthesis of two different fields
              response.$educationServices = []
              if (response.extendedBreakCode?.includes('1')) {
                response.$educationServices.push('extendedBreak');
              } else if (response.educationStatusCode) {
                if (response.educationStatusCode.includes('1')) { response.$educationServices.push('covidClosed') }
                if (response.educationStatusCode.includes('2')) { response.$educationServices.push('remote') }
                if (response.educationStatusCode.includes('3')) { response.$educationServices.push('hybrid') }
                if (response.educationStatusCode.includes('4')) { response.$educationServices.push('inPerson') }
              }

              // $hasInPersonAdditionalSupports determines if we should show the icon & its hover table if there are in-person supports
              // codes 7 & 8 correspond to other and unknown so ignore those too
              response.$hasInPersonAdditionalSupports = this.inPersonAdditionalSupportFields
                .some((item) => {
                  return response[item.name] && !response[item.name].includes('7') && !response[item.name].includes('8')
                })

              // $hasRemoteEducationModalities determines if we should show the icon & its hover table if there are remode education supports
              // codes 6 & 7 correspond to other and unknown so ignore those too
              response.$hasRemoteEducationModalities = this.remoteEducationModalityFields
                .some((item) => {
                  return response[item.name] && !response[item.name].includes('6') && !response[item.name].includes('7')
                })
            })

          }
          return countries
        }
      },
      beforeDestroy() {
        window.removeEventListener('resize', this.createChart);
        window.removeEventListener('load', this.createChart);
      }
    });
  </script>


</body>

</html>